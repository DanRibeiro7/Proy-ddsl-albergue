<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-8">
      
      <div class="card shadow-sm border-0">
        <div class="card-header bg-white border-bottom-0 pt-4 px-4">
          <h3 class="fw-bold text-primary">
            <i class="bi" [ngClass]="esEdicion ? 'bi-pencil-square' : 'bi-person-plus-fill'"></i> 
            {{ titulo }}
          </h3>
          <p class="text-muted">Complete la información del ciudadano para registrarlo.</p>
        </div>

        <div class="card-body px-4 pb-4">
          <form> 
            
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label fw-bold">DNI</label>
                <div class="input-group">
                  <span class="input-group-text bg-light"><i class="bi bi-card-heading"></i></span>
                  <input type="text" class="form-control" [(ngModel)]="persona.dni" name="dni" 
                         maxlength="8" placeholder="Ingrese 8 dígitos" [disabled]="esEdicion">
                </div>
              </div>

              <div class="col-md-6">
                <label class="form-label fw-bold">Tipo de Beneficiario</label>
                <select class="form-select" [(ngModel)]="persona.idtipo_persona" name="tipo">
                  <option [ngValue]="1">Paciente</option>
                  <option [ngValue]="2">Estudiante</option>
                  <option [ngValue]="3">Acompañante</option>
                </select>
              </div>

              <div class="col-md-6">
                <label class="form-label fw-bold">Nombres</label>
                <input type="text" class="form-control" [(ngModel)]="persona.nombres" name="nombres">
              </div>

              <div class="col-md-6">
                <label class="form-label fw-bold">Apellidos</label>
                <input type="text" class="form-control" [(ngModel)]="persona.apellidos" name="apellidos">
              </div>

              <div class="col-md-6">
                <label class="form-label fw-bold">Teléfono / Celular</label>
                <input type="text" class="form-control" [(ngModel)]="persona.telefono" name="telefono">
              </div>

              <div class="col-md-6">
                <label class="form-label fw-bold">Procedencia</label>
                <input type="text" class="form-control" [(ngModel)]="persona.procedencia" name="procedencia" 
                       placeholder="Ej: Comunidad Nativa...">
              </div>
            </div>

            <hr class="my-4">

            <div class="d-flex justify-content-end gap-2">
              <a routerLink="/personas" class="btn btn-light px-4 border">
                Cancelar
              </a>
              
              <button type="button" (click)="guardar(false)" class="btn btn-primary px-4" [disabled]="isLoading">
                <i class="bi bi-save me-1"></i> Guardar
              </button>

              <button *ngIf="!esEdicion" type="button" (click)="guardar(true)" class="btn btn-success px-4" [disabled]="isLoading">
                <i class="bi bi-arrow-right-circle me-1"></i> Guardar y Hospedar
              </button>
            </div>

          </form>
        </div>
      </div>

    </div>
  </div>
</div>